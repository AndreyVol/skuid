---
layout: main
title: Creating a Skuid Component
---

Creating a Skuid Component
=================

## Intro
We think you'll find that Skuid's standard components are pretty rockin', and just by themselves you could do a fairly comprehensive overhaul of your Force.com user interface. 

But we think Skuid's real power lies in *you*, the developers, and how you take it and extend it. We've been using Skuid to build custom components for our own apps for the past year, and it's not only dramatically decreased the time to build new apps, but revolutionized our ability to answer customer requests for one-off customizations and tweaks. 

If you, developers of new components, follow our lead in making your components  massively-customizable from the ground up, we think you'll reap the rewards from astonished, thoroughly satisfied customers.

That said, what sort of 'custom' components could you make? Here are some ideas:
+	A Google Map component that displays arbitrary data fields from an arbitrary model
+	A Tree component for displaying hierarchical data

Let your creativity run free! We're sure you'll surprise us with your ideas. 

Now, on to the nuts and bolts.

## Your First Component
For Skuid to know about your custom component type, you'll need to register it *either* in **(A) JavaScript** or **(B) Apex**.

### Method A: Register your Component in JavaScript
To register a Skuid component type from JavaScript, you'll have to include a line of JavaScript that calls the `skuid.componentType.register` API method. You can include your component type in a given Skuid Page by adding it to your page's JavaScript Resources using the Resources Tab. For convenience, Skuid has a type of JavaScript Resource called "Inline (Component)" which automatically wraps your component type definition in the `skuid.componentType.register` API method, and includes it in the JavaScript loaded by your page.

The benefits of registering a component from JavaScript are:
 - Skuid takes care of a lot of the boilerplate code for you.
 - No Apex classes, unit tests, or code deployments required!
 - Develop natively in JavaScript files, instead of writing JavaScript in Apex, which is unwieldy and consumes script statements.

{% highlight javascript %}

skuid.componentType.register("sayhello",function(element,xmlDef){

   // Set the HTML content of the DOM element we were handed
   // to be the phrase "Hello " (pulled from a Custom Label), 
   // plus the name of a person that was specified in the XML Definition
   // of our component. Then we wrap it all in bold.
   element.html(
      "<b>Hello " + xmlDef.attr("person") + "</b>"
   );

});

{% endhighlight %}

### Method B: Register your Component in Apex
To register a Skuid component type from Apex, you'll need to create a new Apex Class that either implements the 'skuid.Skuidponent' interface, or extends our most basic Skuid component implementation class: 'skuid.SkuidponentImpl'. Here's an example:

{% highlight java %}

public with sharing class HelloWorld extends skuid.SkuidponentImpl {
    
   // This method generates an instance of our component,
   // which typically includes HTML, CSS, and JavaScript
   // Right now, though, we're just spitting out a div
   // with an auto-generated id.    
   public override void generate(){ 
    
      // (Optional) Add in some Force.com Custom Labels
      // that this component type will make use of 
      // from within JavaScript
      // using skuid.label.read(labelName).
      // Here, our label 'Say_Hello' contains the text 'Hello '
      this.customLabels = new Set<String>{
         'Say_Hello'
      };
      
      // Define the HTML content of our component.
      // This could be a div, table, anything you want.
      // @componentId is an Id unique to a given Skuid runtime,
      // automatically generated by Skuid
      this.htmlOutput = '<div id="' + componentId + '"/>';
      
      // Define the JavaScript logic that we want to have run
      // on our component
      this.jsOutput = ';skuid.componentType.register("sayhello",'
      	+ 'function(el,xmlDef){'
      	+     'el.html('
      	+          '"<b>"+skuid.label.read("Say_Hello")'
      	+          '+" " + xmlDef.attr("person") + "</b>"'
      	+     ');'
      	+ '});';
      
    }
    
}

{% endhighlight %}

### Register your Component's Builder in JavaScript (optional)
For this basic component tutorial, we'll add just one degree of flexibility to our component: the name of the person to say hello to. To introduce flexibility to our component, we have to have the component show up in our Skuid Page Builder, and add at least one customizable *attribute* to the component's *properties editor*.

For your component to show up in the Skuid Page Builder, you'll need to define a 'Builder' for your Component in JavaScript, and this JavaScript will need to be located in a single Static Resource that contains all of the JavaScript for all of the Components in your Module (see [Creating a Skuid Module](http://plusplusben.github.com/skuid/devcreatemodule.html)). This Static Resource must be named '&lt;ModuleName&gt;BuildersJS' for Skuid to pick up on it. For instance, if your Module Name is 'recruiting', this file should be called 'RecruitingBuildersJS'. 

So what should this 'Builder' file look like? Here's a stripped-down example (for more detail, see our sample Map component and the [skuid.builder API docs](http://skuidify.github.com/skuid/apibuilder.html)):

{% highlight javascript %}

(function($) {

skuid.builder.registerBuilder(new skuid.builder.Builder({
	id : 'sayhello',
	name : 'Say Hello',
	icon : 'ui-silk-tux',
	description : 'This component says Hello to someone.',
	componentRenderer: function(component) {
		var self = component;			
		component.header.html(component.builder.name);
	},
	propertiesRenderer : function (propertiesObj,component) {
		propertiesObj.header.text('Say Hello Component Properties');
		
		var propsList = [
			{
				id : 'person',
				type : 'string',
				label : 'Person to say Hello to',
				helptext : 'Pick a name, any name!'
			}
		];
		
        propertiesObj.body.append(
            skuid.builder.buildPropsEditor(component.state,propsList)
        );
		
	},
	defaultStateGenerator : function() {
		return skuid.utils.makeXMLDoc('<sayhello person="Penguins">');
	}
}));

})(jQuery);

{% endhighlight %}

That's it! Save this file as the body of your '&lt;ModuleName&gt;BuildersJS' Static Resource, and a Component called 'Say Hello' (with a cute Penguin icon) will show up in the 'Components' tab of the Skuid Page Builder.

## Going Deeper
### Make your Component a jQuery plugin
Coming Soon!
### Customize your Component's Builder
Coming Soon!


